<!-- <div class="container">

  <div class="search-container">
    <input type="text" [(ngModel)]="searchTerm" 
           placeholder="Rechercher des utilisateurs..." class="search-input">
    <i class="search-icon">ğŸ”</i>
  </div>

 
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Chargement des donnÃ©es...</p>
  </div>


  <div *ngIf="errorMessage && !isLoading" class="error-state">
    <div class="error-icon">âš ï¸</div>
    <h3 class="error-title">Erreur</h3>
    <p class="error-message">{{errorMessage}}</p>
    <button class="retry-button" (click)="loadUserData()">RÃ©essayer</button>
  </div>


  <div *ngIf="filteredUsers.length === 0 && !isLoading && !errorMessage" class="empty-state">
    <div class="empty-state-icon">ğŸ‘¤</div>
    <h3 class="empty-state-title">Aucun utilisateur trouvÃ©</h3>
    <p class="empty-state-description" *ngIf="searchTerm">
      Aucun rÃ©sultat pour "{{searchTerm}}"
    </p>
    <p class="empty-state-description" *ngIf="!searchTerm">
      Vous ne suivez actuellement aucun utilisateur
    </p>
    <button class="discover-button" routerLink="/explore">
      DÃ©couvrir des utilisateurs
    </button>
  </div>


  <div *ngIf="filteredUsers.length > 0 && !isLoading">
    <div class="header">
      <h2>Utilisateurs que vous suivez</h2>
      <span class="count">{{filteredUsers.length}} {{filteredUsers.length === 1 ? 'utilisateur' : 'utilisateurs'}}</span>
    </div>

    <div class="user-list">
      <div *ngFor="let user of filteredUsers" class="user-card">
        <div class="user-avatar" [style.background]="getRandomColor()">
          {{ user.nom?.charAt(0)?.toUpperCase() || 'U' }}
        </div>
        
        <div class="user-info">
          <h3 class="user-name">{{ user.nom || 'Utilisateur sans nom' }}</h3>
          <p class="user-username">{{ user.pseudo || 'utilisateur' }}</p>
          <p *ngIf="user.bio" class="user-bio">{{ user.bio }}</p>
        </div>
        
        <button class="unfollow-btn" (click)="unfollow(user.id)">
          Ne plus suivre
        </button>
      </div>
    </div>
  </div>
</div> -->
















































<!-- <div class="container">

  <div class="search-container">
    <input type="text" [(ngModel)]="searchTerm" 
           (input)="search(searchTerm)"
           placeholder="Buscar por nombre..." 
           class="search-input">
    <i class="search-icon">ğŸ”</i>
    <div *ngIf="isSearching" class="search-spinner"></div>
  </div>


  <div *ngIf="searchTerm && searchTerm.length < 2" class="search-hint">
    Ingresa al menos 2 caracteres para buscar
  </div>

 
  <div *ngIf="searchTerm && searchTerm.length >= 2 && searchResults.length > 0" class="search-results">
    <h3>Resultados de bÃºsqueda ({{searchResults.length}})</h3>
    <div class="user-list">
      <div *ngFor="let user of searchResults" class="user-card">
        <div class="avatar" [style.background]="getRandomColor()">
          {{user.nom?.charAt(0)?.toUpperCase() || 'U'}}
        </div>
        
        <div class="user-info">
          <h3>{{user.nom || 'Usuario sin nombre'}}</h3>
          <p class="username">{{user.email}}</p>
          <p *ngIf="user.bio" class="bio">{{user.bio}}</p>
        </div>
        
        <button class="action-btn follow" 
                *ngIf="!followingIds.includes(user.id)"
                (click)="follow(user.id)">
          Seguir
        </button>
        
        <button class="action-btn unfollow" 
                *ngIf="followingIds.includes(user.id)"
                (click)="unfollow(user.id)">
          Siguiendo
        </button>
      </div>
    </div>
  </div>


  <div *ngIf="searchTerm && searchTerm.length >= 2 && searchResults.length === 0 && !isSearching" 
       class="empty-state">
    <div class="empty-icon">ğŸ‘€</div>
    <p>No se encontraron usuarios para "{{searchTerm}}"</p>
  </div>

 
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando datos...</p>
  </div>

  <div *ngIf="errorMessage && !isLoading" class="error-state">
    <div class="error-icon">âš ï¸</div>
    <p>{{errorMessage}}</p>
    <button class="retry-btn" (click)="loadUserData()">Reintentar</button>
  </div>

  <div *ngIf="(!searchTerm || searchTerm.length < 2) && !isLoading && !errorMessage">
    <div class="list-header">
      <h2>Usuarios que sigues</h2>
      <span class="count">{{users.length}} {{users.length === 1 ? 'usuario' : 'usuarios'}}</span>
    </div>

    <div *ngIf="users.length === 0" class="empty-state">
      <div class="empty-icon">ğŸ‘¤</div>
      <p>No sigues a ningÃºn usuario actualmente</p>
      <button class="discover-btn" routerLink="/explore">Descubrir usuarios</button>
    </div>

    <div class="user-list">
      <div *ngFor="let user of users" class="user-card">
        <div class="avatar" [style.background]="getRandomColor()">
          {{user.nom?.charAt(0)?.toUpperCase() || 'U'}}
        </div>
        
        <div class="user-info">
          <h3>{{user.nom || 'Usuario sin nombre'}}</h3>
          <p class="username">{{user.email}}</p>
          <p *ngIf="user.bio" class="bio">{{user.bio}}</p>
        </div>
        
        <button class="action-btn unfollow" (click)="unfollow(user.id)">
          Dejar de seguir
        </button>
      </div>
    </div>
  </div>
</div> -->


















































































<div class="container">
  <!-- Barre de recherche -->
  <div class="search-container">
    <input type="text" [(ngModel)]="searchTerm" 
           (input)="search(searchTerm)"
           placeholder="Rechercher des utilisateurs..." 
           class="search-input">
    <i class="search-icon">ğŸ”</i>
    <div *ngIf="isSearching" class="search-spinner">Recherche en cours...</div>
  </div>

  <!-- RÃ©sultats de recherche -->
  <div *ngIf="searchTerm && searchTerm.length >= 2">
    <div *ngIf="searchResults.length > 0" class="search-results">
      <h3>RÃ©sultats de la recherche ({{searchResults.length}})</h3>
      <div class="user-list">
        <div *ngFor="let user of searchResults" class="user-card">
          <div class="user-avatar" [style.background]="getRandomColor()">
            {{user.nom?.charAt(0)?.toUpperCase() || 'U'}}
          </div>
          
          <div class="user-info">
            <h3>{{user.nom || 'Utilisateur sans nom'}}</h3>
            <p *ngIf="user.bio" class="user-bio">{{user.bio}}</p>
          </div>
          
          <button *ngIf="!followingIds.includes(user.id)" 
                  class="follow-btn"
                  (click)="follow(user.id)">
            Suivre
          </button>
          
          <button *ngIf="followingIds.includes(user.id)" 
                  class="unfollow-btn"
                  (click)="unfollow(user.id)">
            Suivi
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="searchResults.length === 0 && !isSearching" class="empty-state">
      Aucun utilisateur trouvÃ© pour "{{searchTerm}}"
    </div>
  </div>

  <!-- PestaÃ±as de navegaciÃ³n -->
  <div *ngIf="(!searchTerm || searchTerm.length < 2) && !isLoading && !errorMessage" class="tabs-container">
    <div class="tabs">
      <button 
        [class.active]="activeTab === 'following'" 
        (click)="setActiveTab('following')">
        Suivis ({{following.length}})
      </button>
      <button 
        [class.active]="activeTab === 'followers'" 
        (click)="setActiveTab('followers')">
        AbonnÃ©s ({{followers.length}})
      </button>
    </div>

    <!-- Contenido de la pestaÃ±a de seguidos -->
    <div *ngIf="activeTab === 'following'" class="tab-content">
      <div *ngIf="following.length === 0" class="empty-state">
        Vous ne suivez actuellement aucun utilisateur
      </div>

      <div *ngIf="following.length > 0" class="user-list">
        <div *ngFor="let user of following" class="user-card">
          <div class="user-avatar" [style.background]="getRandomColor()">
            {{user.nom?.charAt(0)?.toUpperCase() || 'U'}}
          </div>
          
          <div class="user-info">
            <h3>{{user.nom || 'Utilisateur sans nom'}}</h3>
            <p *ngIf="user.bio" class="user-bio">{{user.bio}}</p>
          </div>
          
          <button class="unfollow-btn" (click)="unfollow(user.id)">
            Ne plus suivre
          </button>
        </div>
      </div>
    </div>

    <!-- Contenido de la pestaÃ±a de seguidores -->
    <div *ngIf="activeTab === 'followers'" class="tab-content">
      <div *ngIf="followers.length === 0" class="empty-state">
        Vous n'avez actuellement aucun abonnÃ©
      </div>

      <div *ngIf="followers.length > 0" class="user-list">
        <div *ngFor="let user of followers" class="user-card">
          <div class="user-avatar" [style.background]="getRandomColor()">
            {{user.nom?.charAt(0)?.toUpperCase() || 'U'}}
          </div>
          
          <div class="user-info">
            <h3>{{user.nom || 'Utilisateur sans nom'}}</h3>
            <p *ngIf="user.bio" class="user-bio">{{user.bio}}</p>
          </div>
          
          <!-- Mostrar botÃ³n de seguir si no lo sigues -->
          <button *ngIf="!followingIds.includes(user.id)" 
                  class="follow-btn"
                  (click)="follow(user.id)">
            Suivre
          </button>
          
          <!-- Mostrar que ya lo sigues -->
          <button *ngIf="followingIds.includes(user.id)" 
                  class="unfollow-btn"
                  (click)="unfollow(user.id)">
            Suivi
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Ã‰tats de chargement et d'erreur -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Chargement des donnÃ©es...</p>
  </div>

  <div *ngIf="errorMessage && !isLoading" class="error-state">
    <div class="error-icon">âš ï¸</div>
    <p>{{errorMessage}}</p>
    <button class="retry-btn" (click)="loadUserData()">RÃ©essayer</button>
  </div>
</div>

